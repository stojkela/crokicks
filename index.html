<!doctype html>
<html lang="hr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>CRO.KICKS ‚Äî Premium Footwear</title>
<meta name="description" content="CRO.KICKS ‚Äî Yeezy, Jordan, Dunk i hype modeli. Dostava ~2 tjedna. Slike para prije slanja. WhatsApp narud≈æbe.">
<meta name="theme-color" content="#0b0b0b">

<!-- FAVICONS -->
<link rel="icon" type="image/png" href="slike/logo.png">
<link rel="apple-touch-icon" href="slike/logo.png" />
<link rel="manifest" href="manifest.json">

<!-- PREVIEW (OG TAGS) -->
<meta property="og:title" content="CRO.KICKS ‚Äî Premium Footwear">
<meta property="og:description" content="Najtra≈æeniji Yeezy, Jordan i Nike modeli. Dostava ~2 tjedna.">
<meta property="og:image" content="slike/preview.png">
<meta property="og:type" content="website">

<style>
:root{
  --bg:#0b0b0b; --card:#141416; --muted:#9aa0a6; 
  --accent:#23b26b; --white:#fff; --shadow:rgba(0,0,0,0.55);
}
*{margin:0;padding:0;box-sizing:border-box;}
body{
  font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
  background:var(--bg);color:var(--white);
}

.wrap{max-width:1100px;margin:0 auto;padding:16px 16px 60px;}

header{
  display:flex;align-items:center;justify-content:space-between;
  padding:12px 0 16px;
}

.logo{width:54px;height:54px;border-radius:12px;overflow:hidden;}
.logo img{width:100%;height:100%;object-fit:cover;}
.brand{font-size:24px;font-weight:700;}
.lead{font-size:13px;color:var(--muted);margin-top:2px;}

.header-link a{color:var(--white);opacity:.9;text-decoration:none;font-size:13px;}

.hero{
  margin-top:12px;
  width:100%;
  border-radius:22px;
  overflow:hidden;
  background:#111;
  position:relative;
  min-height:300px;
}

  .hero::after {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(
        90deg,
        rgba(0,0,0,0.75) 0%,
        rgba(0,0,0,0.55) 40%,
        rgba(0,0,0,0.25) 70%,
        rgba(0,0,0,0.10) 100%
    );
    z-index: 1;
}

.hero-slide{
  position:relative;
     z-index: 2;
  inset:0;
  display:flex;
  flex-direction:column;
  padding:18px;
  opacity:0;
  transition:opacity .5s ease;
  pointer-events:none;

}
.hero-slide.active{
  opacity:1;pointer-events:auto;
}

.hero-title{font-size:26px;font-weight:700;max-width:500px;}
.hero-text{font-size:14px;color:var(--muted);margin-top:6px;max-width:500px;}

.hero-tags{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px;}
.hero-tag{
  background:#1a1a1a;padding:6px 10px;border-radius:999px;
  font-size:12px;color:var(--muted);
}

.hero-cta{margin-top:14px;display:flex;gap:10px;flex-wrap:wrap;}
.btn-hero{
  padding:10px 16px;border-radius:30px;font-size:14px;font-weight:600;
  cursor:pointer;border:none;transition:.2s;
}
.btn-hero-primary{background:var(--accent);color:#03150b;}
.btn-hero-secondary{background:transparent;border:1px solid rgba(255,255,255,.15);color:var(--white);}

.hero-img-box{
  margin-top:16px;width:100%;border-radius:18px;overflow:hidden;
  background:#000;display:flex;align-items:center;justify-content:center;
}
.hero-image img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    opacity: 0.55;            
    filter: brightness(1.1);  
}


/* dots */
.hero-dots{
  position:absolute;bottom:12px;left:50%;transform:translateX(-50%);
  display:flex;gap:8px;
}
.hero-dot{
  width:9px;height:9px;border-radius:50%;
  background:rgba(255,255,255,.25);cursor:pointer;
}
.hero-dot.active{background:var(--accent);}

@media(min-width:780px){
  .hero-slide{flex-direction:row;align-items:center;gap:20px;}
  .hero-img-box{flex:0 0 340px;margin-top:0;height:260px;}
  .hero-title{font-size:30px;}
}
</style>
</head>

<body>
<div class="wrap">

<header>
  <div style="display:flex;align-items:center;gap:12px;">
    <div class="logo"><img src="slike/logo.png" alt="CRO.KICKS"></div>
    <div>
      <div class="brand">CRO.KICKS</div>
      <div class="lead">Premium footwear ‚Äî Dostava oko 2 tjedna ‚Ä¢ Zagreb pickup</div>
    </div>
  </div>

  <div class="header-link">
    <a href="https://instagram.com/cro.kicks_" target="_blank">@cro.kicks_</a>
  </div>
</header>

<!-- HERO -->
<section class="hero" id="hero">

  <div class="hero-slide active" data-index="0">
    <div>
      <div class="hero-title">Yeezy, Jordan i hype modeli dostupni odmah.</div>
      <div class="hero-text">Provjereni dobavljaƒçi, slike para prije slanja i brza komunikacija.</div>

      <div class="hero-tags">
        <span class="hero-tag">üî• Yeezy Zebra</span>
        <span class="hero-tag">üñ§ Jordan 4 Black Cat</span>
        <span class="hero-tag">üïí Dostava ~2 tjedna</span>
      </div>

      <div class="hero-cta">
        <button class="btn-hero btn-hero-primary" onclick="scrollToCatalog()">Pogledaj modele</button>
        <button class="btn-hero btn-hero-secondary" onclick="openWhatsApp()">WhatsApp</button>
      </div>
    </div>

    <div class="hero-img-box">
      <img src="slike/yeezypre.jpg" alt="">
    </div>
  </div>

  <div class="hero-slide" data-index="1">
    <div>
      <div class="hero-title">Slike para koji ide ba≈° tebi.</div>
      <div class="hero-text">Reference fotke od dobavljaƒça prije slanja ‚Äî nema iznenaƒëenja.</div>

      <div class="hero-tags">
        <span class="hero-tag">üì∏ Reference fotke</span>
        <span class="hero-tag">üí¨ Podr≈°ka 0-24</span>
      </div>

      <div class="hero-cta">
        <button class="btn-hero btn-hero-primary" onclick="openWhatsApp()">Tra≈æi slike</button>
        <button class="btn-hero btn-hero-secondary" onclick="scrollToCatalog()">Katalog</button>
      </div>
    </div>

    <div class="hero-img-box">
      <img src="slike/blackcat.jpg" alt="">
    </div>
  </div>

  <div class="hero-slide" data-index="2">
    <div>
      <div class="hero-title">Pickup Zagreb ili dostava na adresu.</div>
      <div class="hero-text">Odaberi model, javi veliƒçinu i ≈°aljemo isti dan.</div>

      <div class="hero-tags">
        <span class="hero-tag">üöö Dostava HR</span>
        <span class="hero-tag">üìç Osobno preuzimanje</span>
      </div>

      <div class="hero-cta">
        <button class="btn-hero btn-hero-primary" onclick="scrollToCatalog()">Pogledaj modele</button>
        <button class="btn-hero btn-hero-secondary" onclick="openWhatsApp()">Kontakt</button>
      </div>
    </div>

    <div class="hero-img-box">
      <img src="slike/preview.png" alt="">
    </div>
  </div>

  <div class="hero-dots">
    <div class="hero-dot active" data-index="0"></div>
    <div class="hero-dot" data-index="1"></div>
    <div class="hero-dot" data-index="2"></div>
  </div>

</section>

  <!-- EXTRA STYLES + LAYOUT -->
<style>
/* Toolbar / filteri */
.toolbar{
  margin-top:16px;
  display:flex;flex-wrap:wrap;gap:8px;
}
.toolbar-group{flex:1 1 100%;}
.toolbar-group.half{flex:1 1 calc(50% - 4px);}
.toolbar input[type="search"],
.toolbar select{
  width:100%;padding:9px 12px;border-radius:999px;
  border:1px solid rgba(255,255,255,.16);
  background:#101010;color:var(--white);font-size:13px;
}
@media(min-width:720px){
  .toolbar-group.search{flex:2;}
  .toolbar-group.half{flex:1;}
}

/* Grid / cards */
.grid{
  margin-top:18px;
  display:grid;grid-template-columns:1fr;gap:18px;
}
@media(min-width:700px){.grid{grid-template-columns:repeat(2,1fr);}}
@media(min-width:1020px){.grid{grid-template-columns:repeat(3,1fr);}}

.card{
  background:var(--card);border-radius:18px;
  padding:14px;display:flex;flex-direction:column;gap:10px;
  box-shadow:0 4px 14px var(--shadow);
  transition:transform .2s,box-shadow .2s;
}
.card:hover{
  transform:translateY(-3px);
  box-shadow:0 10px 22px var(--shadow);
}
.card-img{
  width:100%;border-radius:14px;overflow:hidden;
  background:#202020;display:flex;align-items:center;justify-content:center;
}
.card-img img{
  width:100%;height:100%;object-fit:cover;border-radius:14px;
}
.badges{display:flex;flex-wrap:wrap;gap:6px;margin-top:4px;font-size:11px;}
.badge{padding:3px 8px;border-radius:999px;background:#1b1b1b;color:var(--muted);}
.badge-hot{background:#2b1616;color:#ffb7b7;}
.badge-new{background:#132722;color:#85e1c3;}
h3{font-size:18px;font-weight:600;margin-top:2px;}
.meta{display:flex;justify-content:space-between;align-items:center;font-size:13px;color:var(--muted);}
.price{font-size:16px;font-weight:700;color:var(--white);}
.actions{display:flex;gap:8px;margin-top:auto;}
.btn{
  flex:1;padding:9px 0;border-radius:12px;font-size:14px;
  font-weight:600;cursor:pointer;border:none;transition:.2s;
}
.btn-order{background:var(--accent);color:#03150b;}
.btn-order:hover{opacity:.9;}
.btn-info{background:transparent;border:1px solid rgba(255,255,255,.18);color:var(--white);}
.btn-info:hover{background:rgba(255,255,255,.06);}

/* Why sekcija */
.why{
  margin-top:28px;display:grid;gap:12px;
}
@media(min-width:800px){.why{grid-template-columns:repeat(3,1fr);}}
.why-card{
  background:#101011;border-radius:14px;padding:12px 13px;
}
.why-title{font-size:14px;font-weight:600;margin-bottom:4px;}
.why-text{font-size:13px;color:var(--muted);}

/* Footer */
footer{
  margin-top:30px;font-size:13px;color:var(--muted);text-align:center;
}
footer a{color:var(--accent);text-decoration:none;}
footer a:hover{text-decoration:underline;}

/* Order modal */
.modal{
  position:fixed;inset:0;display:none;align-items:center;justify-content:center;
  background:rgba(0,0,0,.7);z-index:200;padding:20px;overflow:auto;
}
.modal .box{
  width:100%;max-width:480px;background:var(--card);
  border-radius:18px;padding:18px 18px 20px;
  box-shadow:0 8px 24px var(--shadow);
}
.modal label{
  font-size:13px;color:var(--muted);margin:6px 0 4px;display:block;
}
.modal select,.modal input[type="text"]{
  width:100%;padding:9px 10px;border-radius:8px;
  border:1px solid rgba(255,255,255,.15);
  background:#0a0a0a;color:var(--white);font-size:14px;
}
.small{font-size:12px;color:var(--muted);margin-top:4px;}

/* Detail overlay */
.detail-overlay{
  position:fixed;inset:0;background:rgba(0,0,0,.92);
  display:none;z-index:190;padding:18px;overflow:auto;
}
.detail-inner{
  max-width:1100px;margin:0 auto;background:#111214;
  border-radius:18px;padding:16px 16px 24px;
}
.detail-header{
  display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;
}
.detail-layout{display:flex;flex-direction:column;gap:18px;}
.detail-left{flex:1;}
.detail-right{flex:1;max-width:430px;}
@media(min-width:900px){
  .detail-layout{flex-direction:row;}
}

/* main image + gallery */
#mainImage{
  border-radius:16px;overflow:hidden;background:#202020;
}
#mainImage img{
  width:100%;max-height:430px;object-fit:cover;border-radius:16px;
}
.gallery{
  display:flex;flex-wrap:wrap;gap:8px;margin-top:8px;
}
.gallery img{
  width:calc(25% - 6px);border-radius:10px;cursor:pointer;
  object-fit:cover;opacity:.9;transition:.2s;
}
.gallery img:hover{opacity:1;transform:scale(1.04);}

/* detail right */
.detail-price{font-size:22px;font-weight:700;margin:2px 0;}
.detail-meta{font-size:13px;color:var(--muted);}
.detail-section-title{font-size:14px;font-weight:600;margin-top:12px;margin-bottom:4px;}
.sizes{display:flex;flex-wrap:wrap;gap:8px;margin-top:6px;}
.sizes span{
  padding:6px 10px;border-radius:8px;font-size:13px;
  background:#181818;border:1px solid transparent;cursor:pointer;
}
.sizes span.selected{border-color:var(--accent);background:#132016;}
.detail-recs{display:flex;flex-wrap:wrap;gap:6px;font-size:13px;margin-top:4px;}
.detail-rec-item{
  background:#181818;border-radius:8px;padding:6px 9px;cursor:pointer;
}
.detail-rec-item:hover{background:#1f1f1f;}
.detail-reviews{font-size:13px;color:var(--muted);margin-top:4px;}
.detail-reviews p{margin-bottom:4px;}

/* sticky bar */
.detail-sticky{
  position:fixed;left:0;right:0;bottom:0;
  background:rgba(5,5,5,.96);border-top:1px solid rgba(255,255,255,.08);
  display:none;z-index:195;
}
.detail-sticky-inner{
  max-width:1100px;margin:0 auto;padding:8px 16px;
  display:flex;justify-content:space-between;align-items:center;gap:10px;
}
.detail-sticky button{
  border:none;border-radius:999px;padding:8px 16px;
  background:var(--accent);color:#021006;font-weight:600;font-size:14px;
  cursor:pointer;
}
.detail-sticky-price{font-weight:700;font-size:15px;}

/* small tweaks */
@media(max-width:760px){
  header{flex-direction:column;align-items:flex-start;}
  .hero-title{font-size:22px;}
  .hero-text{font-size:13px;}
  .detail-inner{padding:14px 12px 22px;}
  .modal .box{width:96%;}
}
</style>

<!-- TOOLBAR -->
<section class="toolbar">
  <div class="toolbar-group search">
    <input type="search" id="searchInput"
      placeholder="Pretra≈æi modele (npr. Yeezy, Jordan, Dunk...)"
      oninput="applyFilters()">
  </div>
  <div class="toolbar-group half">
    <select id="brandFilter" onchange="applyFilters()">
      <option value="">Brand (sve)</option>
      <option value="yeezy">Yeezy</option>
      <option value="jordan">Jordan</option>
      <option value="nike">Nike</option>
    </select>
  </div>
  <div class="toolbar-group half">
    <select id="sizeFilter" onchange="applyFilters()">
      <option value="">Veliƒçina (sve)</option>
      <option>36</option><option>37</option><option>38</option><option>39</option>
      <option>40</option><option>41</option><option>42</option><option>43</option>
      <option>44</option><option>45</option><option>46</option><option>47</option>
    </select>
  </div>
  <div class="toolbar-group">
    <select id="sortSelect" onchange="applyFilters()">
      <option value="">Sortiranje</option>
      <option value="price-asc">Cijena: najni≈æa</option>
      <option value="price-desc">Cijena: najvi≈°a</option>
      <option value="name-asc">Naziv A‚ÄìZ</option>
    </select>
  </div>
</section>

<main>
  <!-- KATALOG -->
  <section class="grid" id="catalog">
    <!-- Yeezy 350 Zebra -->
    <article class="card"
      data-id="yeezy-zebra"
      data-name="Yeezy 350 Zebra"
      data-price="120"
      data-brand="yeezy"
      data-sizes="37,38,39,40,41,42,43,44,45,46,47"
      data-images='["slike/yeezypre.jpg","slike/yeezy1.jpg","slike/yeezy2.jpg"]'>
      <div class="card-img">
        <img src="slike/yeezypre.jpg" alt="Yeezy 350 Zebra">
      </div>
      <div class="badges">
        <span class="badge badge-hot">TOP SELLER</span>
        <span class="badge">Unisex</span>
      </div>
      <h3>Yeezy 350 Zebra</h3>
      <div class="meta">
        <span class="price">120‚Ç¨</span>
        <span>Dostava ~2 tj.</span>
      </div>
      <div class="actions">
        <button class="btn btn-order" onclick="openOrder(this)">Naruƒçi</button>
        <button class="btn btn-info" onclick="openDetail(this)">Detalji</button>
      </div>
    </article>

    <!-- Jordan 4 Black Cat -->
    <article class="card"
      data-id="j4-blackcat"
      data-name="Jordan 4 Black Cat"
      data-price="110"
      data-brand="jordan"
      data-sizes="40,41,42,43,44,45"
      data-images='["slike/blackcat.jpg","slike/preview.png"]'>
      <div class="card-img">
        <img src="slike/blackcat.jpg" alt="Jordan 4 Black Cat">
      </div>
      <div class="badges">
        <span class="badge badge-new">Tra≈æen model</span>
      </div>
      <h3>Jordan 4 Black Cat</h3>
      <div class="meta">
        <span class="price">110‚Ç¨</span>
        <span>Dostava ~2 tj.</span>
      </div>
      <div class="actions">
        <button class="btn btn-order" onclick="openOrder(this)">Naruƒçi</button>
        <button class="btn btn-info" onclick="openDetail(this)">Detalji</button>
      </div>
    </article>

    <!-- Air Force 1 Triple White (koristi preview kao sliku dok ne doda≈° svoju) -->
    <article class="card"
      data-id="af1-white"
      data-name="Air Force 1 Triple White"
      data-price="85"
      data-brand="nike"
      data-sizes="36,37,38,39,40,41,42,43,44,45"
      data-images='["slike/preview.png"]'>
      <div class="card-img">
        <img src="slike/preview.png" alt="Air Force 1 Triple White">
      </div>
      <div class="badges">
        <span class="badge">Classic</span>
      </div>
      <h3>Air Force 1 Triple White</h3>
      <div class="meta">
        <span class="price">85‚Ç¨</span>
        <span>Dostava ~2 tj.</span>
      </div>
      <div class="actions">
        <button class="btn btn-order" onclick="openOrder(this)">Naruƒçi</button>
        <button class="btn btn-info" onclick="openDetail(this)">Detalji</button>
      </div>
    </article>
  </section>

  <!-- ZA≈†TO CRO.KICKS -->
  <section class="why">
    <div class="why-card">
      <div class="why-title">Slike para prije slanja</div>
      <div class="why-text">Za svaki par mo≈æe≈° dobiti reference fotke direktno od dobavljaƒça.</div>
    </div>
    <div class="why-card">
      <div class="why-title">WhatsApp komunikacija</div>
      <div class="why-text">Brz dogovor oko veliƒçine, dostupnosti i dostave. 095 528 6672.</div>
    </div>
    <div class="why-card">
      <div class="why-title">Repeat kupci</div>
      <div class="why-text">Fokus nam je da bude≈° zadovoljan i da se vrati≈° po drugi par.</div>
    </div>
  </section>
</main>

<footer>
  Instagram & TikTok:
  <a href="https://instagram.com/cro.kicks_" target="_blank">@cro.kicks_</a> ‚Ä¢
  WhatsApp: 095 528 6672 ‚Ä¢
  Mail:
  <a href="mailto:info@crokicks.hr">info@crokicks.hr</a>
</footer>

<!-- ORDER MODAL -->
<div class="modal" id="orderModal">
  <div class="box">
    <div style="display:flex;justify-content:space-between;align-items:center;">
      <strong id="orderTitle">Naruƒçi</strong>
      <button onclick="closeOrder()" style="background:none;border:none;color:var(--muted);font-size:18px;">‚úï</button>
    </div>

    <label for="sizeSelect">Veliƒçina</label>
    <select id="sizeSelect"></select>

    <label for="nameInput">Ime i prezime (obavezno)</label>
    <input id="nameInput" type="text" placeholder="npr. Ivan Horvat">

    <label for="phoneInput">Broj telefona (WhatsApp) (obavezno)</label>
    <input id="phoneInput" type="text" placeholder="0955286672">

    <label for="countryInput">Dr≈æava</label>
    <input id="countryInput" type="text" placeholder="Hrvatska">

    <label for="regionInput">≈Ωupanija / Regija</label>
    <input id="regionInput" type="text" placeholder="Zagrebaƒçka">

    <label for="cityInput">Grad</label>
    <input id="cityInput" type="text" placeholder="Zagreb">

    <label for="addressInput">Toƒçna adresa</label>
    <input id="addressInput" type="text" placeholder="Ulica i broj">

    <label for="zipInput">Po≈°tanski broj</label>
    <input id="zipInput" type="text" placeholder="10000">

    <div class="small">
      Klikom na "Po≈°alji WhatsApp" otvara se chat sa svim podacima (model, broj i adresa).
    </div>

    <div style="display:flex;gap:8px;margin-top:10px;">
      <button class="btn btn-order" style="flex:1;" onclick="sendWhatsAppOrder()">Po≈°alji WhatsApp</button>
      <button class="btn btn-info" style="flex:1;" onclick="sendEmailOrder()">Po≈°alji e-mail</button>
    </div>

    <div style="margin-top:8px;text-align:center;font-size:13px;">
      Ili po≈°alji Instagram DM:
      <a href="https://instagram.com/cro.kicks_" target="_blank">@cro.kicks_</a>
    </div>
  </div>
</div>

<!-- DETAIL OVERLAY -->
<div class="detail-overlay" id="detailOverlay">
  <div class="detail-inner">
    <div class="detail-header">
      <div id="detailTitle" style="font-size:18px;font-weight:600;">Detalji</div>
      <button onclick="closeDetail()" style="background:none;border:none;color:var(--muted);font-size:20px;">‚úï</button>
    </div>

    <div class="detail-layout">
      <div class="detail-left">
        <div id="mainImage"><img src="" alt=""></div>
        <div class="gallery" id="detailGallery"></div>
      </div>

      <div class="detail-right">
        <div class="detail-price" id="detailPrice"></div>
        <div class="detail-meta">Dostava ~2 tjedna ‚Ä¢ Slike para prije slanja na zahtjev</div>

        <div class="detail-section-title">Dostupne veliƒçine</div>
        <div class="sizes" id="detailSizes"></div>

        <div class="detail-section-title">Napomena</div>
        <div class="detail-meta">
          Za ovaj model imamo vi≈°e slika (ukljuƒçujuƒái slike od dobavljaƒça). Po≈°alji poruku za dodatne reference.
        </div>

        <div class="detail-section-title">Preporuƒçeni modeli</div>
        <div class="detail-recs" id="detailRecs"></div>

        <div class="detail-section-title">Recenzije kupaca</div>
        <div class="detail-reviews">
          <p>‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è ‚ÄúSlike prije slanja, Yeezy sjeo savr≈°eno. Preporuka.‚Äù</p>
          <p>‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è ‚ÄúJordan 4 Black Cat brutalan, dostava oko 2 tjedna.‚Äù</p>
        </div>

        <div style="margin-top:16px;display:flex;gap:8px;flex-wrap:wrap;">
          <button class="btn btn-order" onclick="orderFromDetail()">Naruƒçi ovaj model</button>
          <button class="btn btn-info" onclick="openWhatsApp()">Pitaj za dodatne slike</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- STICKY ZA DETALJE -->
<div class="detail-sticky" id="detailSticky">
  <div class="detail-sticky-inner">
    <div>
      <div id="detailStickyName" style="font-size:13px;color:var(--muted);"></div>
      <div class="detail-sticky-price" id="detailStickyPrice"></div>
    </div>
    <button onclick="orderFromDetail()">Naruƒçi odmah</button>
  </div>
</div>

<script>
const WA_PHONE = '385955286672'; // 095 528 6672
const SELLER_EMAIL = 'info@crokicks.hr';

const slides = Array.from(document.querySelectorAll('.hero-slide'));
const dots   = Array.from(document.querySelectorAll('.hero-dot'));
let heroIndex = 0;

function showHeroSlide(i){
  heroIndex = i;
  slides.forEach((s,idx)=>s.classList.toggle('active',idx===i));
  dots.forEach((d,idx)=>d.classList.toggle('active',idx===i));
}
dots.forEach(d=>{
  d.addEventListener('click',()=>showHeroSlide(parseInt(d.dataset.index,10)));
});
setInterval(()=>{
  heroIndex = (heroIndex+1) % slides.length;
  showHeroSlide(heroIndex);
},6000);

/* Scroll na katalog */
function scrollToCatalog(){
  const el = document.getElementById('catalog');
  if(el) el.scrollIntoView({behavior:'smooth'});
}

/* Generalni WhatsApp */
function openWhatsApp(){
  const txt = encodeURIComponent('Pozdrav, imam pitanje u vezi CRO.KICKS üî•');
  window.open(`https://wa.me/${WA_PHONE}?text=${txt}`,'_blank');
}

/* FILTERI */
const catalogEl = document.getElementById('catalog');
const cardNodes = Array.from(catalogEl.querySelectorAll('.card'));

function applyFilters(){
  const searchVal = (document.getElementById('searchInput').value || '').toLowerCase();
  const brandVal  = (document.getElementById('brandFilter').value || '').toLowerCase();
  const sizeVal   = document.getElementById('sizeFilter').value || '';
  const sortVal   = document.getElementById('sortSelect').value || '';

  cardNodes.forEach(card=>{
    const name  = (card.dataset.name || '').toLowerCase();
    const brand = (card.dataset.brand || '').toLowerCase();
    const sizes = (card.dataset.sizes || '').split(',').map(s=>s.trim());

    let visible = true;
    if(searchVal && !name.includes(searchVal) && !brand.includes(searchVal)) visible=false;
    if(brandVal && brand !== brandVal) visible=false;
    if(sizeVal && !sizes.includes(sizeVal)) visible=false;

    card.style.display = visible ? '' : 'none';
  });

  const visibleCards = cardNodes.filter(c=>c.style.display !== 'none');
  if(sortVal){
    visibleCards.sort((a,b)=>{
      const pa = parseFloat(a.dataset.price || '0');
      const pb = parseFloat(b.dataset.price || '0');
      const na = (a.dataset.name || '').toLowerCase();
      const nb = (b.dataset.name || '').toLowerCase();
      if(sortVal==='price-asc') return pa-pb;
      if(sortVal==='price-desc') return pb-pa;
      if(sortVal==='name-asc') return na.localeCompare(nb);
      return 0;
    });
    visibleCards.forEach(c=>catalogEl.appendChild(c));
  }
}
applyFilters();

/* NARUD≈ΩBA */
let currentProduct = null;
let selectedSize = null;

function openOrder(btn){
  const card = btn.closest('.card');
  if(!card) return;
  currentProduct = {
    id:card.dataset.id,
    name:card.dataset.name,
    price:card.dataset.price,
    brand:card.dataset.brand,
    sizes:(card.dataset.sizes||'').split(',').map(s=>s.trim()).filter(Boolean),
    images:JSON.parse(card.dataset.images || '[]')
  };
  document.getElementById('orderTitle').textContent = 'Naruƒçi ‚Äî ' + currentProduct.name;

  const sel = document.getElementById('sizeSelect');
  sel.innerHTML = '';
  currentProduct.sizes.forEach(sz=>{
    const o=document.createElement('option');
    o.value=sz;o.textContent=sz;sel.appendChild(o);
  });
  if(selectedSize && currentProduct.sizes.includes(selectedSize)) sel.value=selectedSize;

  document.getElementById('orderModal').style.display='flex';
}

function closeOrder(){
  document.getElementById('orderModal').style.display='none';
}

function collectOrderData(){
  const data = {
    size: document.getElementById('sizeSelect').value.trim(),
    name: document.getElementById('nameInput').value.trim(),
    phone: document.getElementById('phoneInput').value.trim(),
    country: document.getElementById('countryInput').value.trim(),
    region: document.getElementById('regionInput').value.trim(),
    city: document.getElementById('cityInput').value.trim(),
    address: document.getElementById('addressInput').value.trim(),
    zip: document.getElementById('zipInput').value.trim()
  };
  if(!data.size || !data.name || !data.phone || !data.country || !data.region || !data.city || !data.address || !data.zip){
    alert('Molimo ispuni sva polja i odaberi veliƒçinu.');
    return null;
  }
  return data;
}

function sendWhatsAppOrder(){
  if(!currentProduct){alert('Gre≈°ka s proizvodom.');return;}
  const d = collectOrderData(); if(!d) return;

  const text =
`Pozdrav, ≈æelim naruƒçiti:
Model: ${currentProduct.name}
Veliƒçina: ${d.size}
Ime: ${d.name}
Broj: ${d.phone}
Dr≈æava: ${d.country}
≈Ωupanija/Regija: ${d.region}
Grad: ${d.city}
Adresa: ${d.address}
Po≈°tanski broj: ${d.zip}`;

  window.open(`https://wa.me/${WA_PHONE}?text=${encodeURIComponent(text)}`,'_blank');
}

function sendEmailOrder(){
  if(!currentProduct){alert('Gre≈°ka s proizvodom.');return;}
  const d = collectOrderData(); if(!d) return;

  const subject = encodeURIComponent('Narud≈æba ‚Äî ' + currentProduct.name);
  const body = encodeURIComponent(
`Model: ${currentProduct.name}
Veliƒçina: ${d.size}
Ime: ${d.name}
Broj: ${d.phone}
Dr≈æava: ${d.country}
≈Ωupanija/Regija: ${d.region}
Grad: ${d.city}
Adresa: ${d.address}
Po≈°tanski broj: ${d.zip}
Cijena: ${currentProduct.price}‚Ç¨`
  );
  window.location.href = `mailto:${SELLER_EMAIL}?subject=${subject}&body=${body}`;
}

/* DETALJI */
function openDetail(btn){
  const card = btn.closest('.card'); if(!card) return;
  currentProduct = {
    id:card.dataset.id,
    name:card.dataset.name,
    price:card.dataset.price,
    brand:card.dataset.brand,
    sizes:(card.dataset.sizes||'').split(',').map(s=>s.trim()).filter(Boolean),
    images:JSON.parse(card.dataset.images || '[]')
  };
  selectedSize = null;

  document.getElementById('detailTitle').textContent = currentProduct.name;
  document.getElementById('detailPrice').textContent = currentProduct.price + '‚Ç¨';
  document.getElementById('detailStickyName').textContent = currentProduct.name;
  document.getElementById('detailStickyPrice').textContent = currentProduct.price + '‚Ç¨';

  const mainImg = document.querySelector('#mainImage img');
  const gallery = document.getElementById('detailGallery');
  gallery.innerHTML = '';
  if(currentProduct.images.length>0){
    mainImg.src = currentProduct.images[0];
  }else{
    mainImg.src = '';
  }
  currentProduct.images.forEach(src=>{
    const img=document.createElement('img');
    img.src=src;
    img.onclick=()=>{mainImg.src=src;};
    gallery.appendChild(img);
  });

  const sizesWrap = document.getElementById('detailSizes');
  sizesWrap.innerHTML='';
  currentProduct.sizes.forEach(sz=>{
    const span=document.createElement('span');
    span.textContent=sz;
    span.onclick=()=>{
      selectedSize = sz;
      Array.from(sizesWrap.children).forEach(c=>c.classList.remove('selected'));
      span.classList.add('selected');
    };
    sizesWrap.appendChild(span);
  });

  const recWrap = document.getElementById('detailRecs');
  recWrap.innerHTML='';
  cardNodes.forEach(c=>{
    if(c.dataset.id!==currentProduct.id){
      const d=document.createElement('div');
      d.className='detail-rec-item';
      d.textContent=`${c.dataset.name} ‚Ä¢ ${c.dataset.price}‚Ç¨`;
      d.onclick=()=>openDetailFromCard(c);
      recWrap.appendChild(d);
    }
  });

  document.getElementById('detailOverlay').style.display='block';
  document.getElementById('detailSticky').style.display='block';
}

function openDetailFromCard(card){
  openDetail({closest:()=>card});
}

function closeDetail(){
  document.getElementById('detailOverlay').style.display='none';
  document.getElementById('detailSticky').style.display='none';
}

function orderFromDetail(){
  const card = cardNodes.find(c=>c.dataset.id===currentProduct.id);
  if(!card){alert('Gre≈°ka s proizvodom.');return;}
  openOrder({closest:()=>card});
  if(selectedSize){
    const sel=document.getElementById('sizeSelect');
    Array.from(sel.options).forEach(o=>{if(o.value===selectedSize) sel.value=selectedSize;});
  }
}
</script>

</div><!-- /.wrap -->
</body>
</html>

